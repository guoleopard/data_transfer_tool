# 数据库迁移工具

一个基于 Vue 3 + Vite 的跨数据库结构和数据迁移工具，支持 MySQL 和 SQL Server。

## 功能特性

1.  **数据源配置**
    - 支持 MySQL 和 SQL Server 数据库连接
    - 连接测试功能
    - 配置保存和管理

2.  **迁移任务管理**
    - 选择源数据库和目标数据库
    - 多选需要迁移的数据表
    - 三种迁移模式：仅结构迁移、仅数据迁移、结构+数据迁移

3.  **实时进度展示**
    - 按表展示迁移进度
    - 实时更新迁移状态
    - 详细的迁移日志

## 技术栈

- **前端框架**: Vue 3 + Vite
- **数据库驱动**: mysql2, mssql
- **UI设计**: 响应式布局，现代化UI

## 注意事项

> 当前项目存在一个重要限制：浏览器环境无法直接使用 Node.js 数据库驱动（mysql2 和 mssql）进行数据库连接。

## 解决方案

### 方案一：使用后端代理（推荐）

1.  创建一个简单的 Express/Node.js 后端服务
2.  所有数据库连接操作通过后端 API 完成
3.  前端通过 HTTP 请求调用后端接口

### 方案二：使用纯前端数据库驱动

对于 MySQL，可以使用 `mysql-connector-nodejs` 或其他纯前端驱动，但功能有限。

## 快速开始

### 安装依赖

```bash
npm install
```

### 启动开发服务器

```bash
npm run dev
```

### 构建生产版本

```bash
npm run build
```

## 使用流程

1.  **配置数据源**
    - 填写源数据库连接信息
    - 点击"测试连接"验证连接是否成功
    - 保存源数据库配置
    - 重复上述步骤配置目标数据库

2.  **创建迁移任务**
    - 选择源数据库和目标数据库
    - 选择需要迁移的数据表
    - 选择迁移类型
    - 点击"开始迁移"

3.  **查看迁移进度**
    - 实时查看每个表的迁移进度
    - 查看迁移成功/失败状态
    - 迁移完成后可以重置任务重新开始

## 项目结构

```
├── src/
│   ├── components/
│   │   ├── DataSourceForm.vue    # 数据源配置组件
│   │   └── MigrationTask.vue     # 迁移任务组件
│   ├── utils/
│   │   └── db.js                 # 数据库操作工具类
│   ├── App.vue                   # 主应用组件
│   └── main.js                   # 应用入口
├── vite.config.js                # Vite 配置
└── package.json                  # 项目依赖
```

## 浏览器兼容性

- Chrome/Edge (最新版)
- Firefox (最新版)
- Safari (最新版)

## License

MIT