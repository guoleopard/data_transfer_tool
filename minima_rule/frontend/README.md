# 数据库迁移工具

一个基于 Vue 3 + Vite + Element Plus 开发的数据库迁移工具，支持 MySQL 和 SQL Server 之间的结构和数据迁移。

## 功能特性

1.  **数据源管理**
    - 支持 MySQL 和 SQL Server 数据源配置
    - 数据源连接测试
    - 数据源增删改查管理
    - 本地存储数据源配置

2.  **迁移任务**
    - 选择源数据库和目标数据库
    - 选择需要迁移的表
    - 支持结构迁移和数据迁移两种模式
    - 可同时选择多张表进行批量迁移

3.  **进度展示**
    - 实时展示每张表的迁移进度
    - 详细的迁移状态和日志信息
    - 总体进度统计
    - 迁移结果汇总

## 技术栈

- **前端框架**: Vue 3 (Composition API)
- **构建工具**: Vite 5
- **UI 组件库**: Element Plus
- **状态管理**: Pinia
- **数据库驱动**: mysql2, mssql（仅用于后端）

## 注意事项

> **重要提示**: 当前版本为前端演示版本，数据库操作均为模拟实现。在生产环境中，数据库连接和操作必须放在后端服务中，避免在浏览器中直接暴露数据库凭证。

### 生产环境部署建议

1.  **后端服务**: 需要搭建后端服务（如 Node.js + Express）处理数据库连接和操作
2.  **API 接口**: 前端通过调用后端 API 接口执行数据库操作
3.  **安全认证**: 添加用户认证和授权机制
4.  **数据加密**: 敏感信息加密存储和传输

## 安装运行

### 安装依赖
```bash
npm install
```

### 启动开发服务器
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

## 使用流程

### 1. 添加数据源
1.  进入「数据源管理」页面
2.  点击「添加数据源」按钮
3.  填写数据库连接信息
    - 数据源名称
    - 数据库类型（MySQL/SQL Server）
    - 主机地址
    - 端口
    - 用户名和密码
    - 数据库名称
4.  点击「测试连接」验证配置正确性
5.  保存数据源配置

### 2. 创建迁移任务
1.  进入「迁移任务」页面
2.  选择源数据库和目标数据库
3.  选择迁移类型（结构迁移/数据迁移）
4.  选择需要迁移的数据表
5.  点击「开始迁移」执行迁移任务
6.  查看实时迁移进度和日志

## 项目结构

```
.
├── index.html                    # 入口 HTML
├── package.json                  # 项目配置
├── vite.config.js                # Vite 配置
└── src/
    ├── App.vue                   # 主应用组件
    ├── main.js                   # 应用入口
    ├── stores/
    │   └── useAppStore.js        # Pinia 状态管理
    ├── views/
    │   ├── DatasourceView.vue    # 数据源管理页面
    │   └── MigrationView.vue     # 迁移任务页面
    └── utils/
        └── db.js                 # 数据库操作工具类
```

## 后续优化

- [ ] 添加后端服务接口
- [ ] 支持更多数据库类型（PostgreSQL, Oracle 等）
- [ ] 添加数据预览和映射配置
- [ ] 支持增量迁移和断点续传
- [ ] 添加迁移任务历史记录
- [ ] 支持数据过滤和转换
- [ ] 添加性能优化和批量处理
- [ ] 完善错误处理和重试机制